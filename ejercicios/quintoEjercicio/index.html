<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pokemon Challenge</title>
  </head>

  <body class="container">
    <header class="item-a">
      
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/International_Pok%C3%A9mon_logo.svg/1200px-International_Pok%C3%A9mon_logo.svg.png" alt="" style="width: 300px;
      height: 100px;">
    </header>

    <section class="item-b">
      <div id="poke_container" class="poke_container"></div>
      <template id="pokemonCardTemplate">
        <style>
          :host {
            display: flex;
            overflow: hidden;
            box-sizing: border-box;
          }

          .card {
            border-radius: 20px;
            display: flex;
            align-items: center;
            flex-direction: column;
            padding: 25px;
          }

          .card > .name {
            color: #d5d5d5;
            font-size: 25px;
            margin: 0;
            margin-top: 20px;
            font-weight: bold;
          }
        </style>
        <div class="card">
          <img src="" class="image" />
          <p class="name"></p>
        </div>
      </template>
    </section>

    <footer class="item-d">
      <h2>Esta es una p√°gina con footer</h2>
    </footer>


    <style>

      .item-a {
        grid-area: header;
        display: flex;
        flex-direction: row;
        justify-content: center;
        margin-bottom: 40px;
      }

      .item-b {
        grid-area: main;
      }

      .item-c {
        grid-area: sidebar;
      }

      .item-d {
        grid-area: footer;
      }

      .container {
        display: grid;
        grid-template-columns: auto;
        grid-template-rows: auto;
        grid-template-areas:
          "header header header"
          "main main main"
          "footer footer footer";
      }

      .poke_container {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        flex-direction: row;
        justify-content: space-around;
        align-content: space-around;
      }
    </style>
    <script>
      class PokemonCard extends HTMLElement {
        constructor() {
          super();

          const shadow = this.attachShadow({ mode: "closed" });
          const templateElem = document.getElementById("pokemonCardTemplate");
          const content = templateElem.content.cloneNode(true);
          content
            .querySelector("img.image")
            .setAttribute("src", this.getAttribute("image"));
          content.querySelector(".card").style.backgroundColor =
            this.getAttribute("backgroundColor");
          const name = content.querySelector(".card>.name");
          name.innerText = this.getAttribute("name");
          name.style.color = this.getAttribute("text-color");

          shadow.appendChild(content);
        }
      }
    </script>

    <script>
      fetch("https://pokeapi.co/api/v2/pokemon/?offset=0&limit=45")
        .then((response) => response.json())
        .then((pokemons) => {
          pokemons.results.forEach((pokemon, index) => {
            const card = document.createElement("poke-card");
            const backgroundColor = pokemonColorMap[index + 1];
            const color = backgroundColor[1] === "f" ? "#000" : "#fff";
            card.setAttribute("id", index + 1);
            card.setAttribute("name", pokemon.name);
            card.setAttribute("image", getPokemonImageUri(index + 1));
            card.setAttribute("backgroundColor", backgroundColor);
            card.setAttribute("text-color", color);
            document.getElementById("poke_container").appendChild(card);
          });

          customElements.define("poke-card", PokemonCard);
        });
    </script>

    <script>
      const pokemonColorMap = {
        1: "#4ca04c", //green
        2: "#4ca04c",
        3: "#4ca04c",
        4: "#de3a3a", //red
        5: "#de3a3a",
        6: "#de3a3a",
        7: "#3e3ec0", //blue
        8: "#3e3ec0",
        9: "#3e3ec0",
        10: "#4ca04c",
        11: "#4ca04c",
        12: "#fbf6f6", //blanco
        13: "#7c5151", //brown
        14: "#f0f060e6",
        15: "#f0f060e6",
        16: "#7c5151",
        17: "#7c5151",
        18: "#7c5151",
        19: "#523352",
        20: "#7c5151",
        21: "#7c5151",
        22: "#7c5151",
        23: "#523352",
        24: "#523352",
        25: "#f0f060e6",
        26: "#f0f060e6",
        27: "#f0f060e6",
        28: "#f0f060e6",
        29: "#3e3ec0",
        30: "#3e3ec0",
        31: "#3e3ec0",
        32: "#523352",
        33: "#523352",
        34: "#523352",
        35: "#ffb6c3",
        36: "#ffb6c3",
        37: "#7c5151",
        38: "#f0f060e6",
        39: "#ffb6c3",
        40: "#ffb6c3",
        41: "#523352",
        42: "#523352",
        43: "#3e3ec0",
        44: "#3e3ec0",
        45: "#de3a3a",
        46: "#de3a3a",
        47: "#de3a3a",
        48: "#523352",
        49: "#523352",
        50: "#7c5151",
        51: "#7c5151",
        52: "#f0f060e6",
        53: "#f0f060e6",
        54: "#f0f060e6",
        55: "#3e3ec0",
        56: "#7c5151",
        57: "#7c5151",
        58: "#7c5151",
        59: "#7c5151",
        60: "#3e3ec0",
        61: "#3e3ec0",
        62: "#3e3ec0",
        63: "#7c5151",
        64: "#7c5151",
        65: "#7c5151",
        66: "gray",
        67: "gray",
        68: "gray",
        69: "#4ca04c",
        70: "#4ca04c",
        71: "#4ca04c",
        72: "#3e3ec0",
        73: "#3e3ec0",
        74: "#7c5151",
        75: "#7c5151",
        76: "#7c5151",
        77: "#f0f060e6", //yellow
        78: "#f0f060e6",
        79: "#ffb6c3", //#pink
        80: "#ffb6c3",
        81: "gray",
        82: "gray",
        83: "#7c5151",
        84: "#7c5151",
        85: "#7c5151",
        86: "#fbf6f6",
        87: "#fbf6f6",
        88: "#523352",
        89: "#523352",
        90: "#523352",
        91: "#523352",
        92: "#523352",
        93: "#523352",
        94: "#523352",
        95: "gray",
        96: "#f0f060e6",
        97: "#f0f060e6",
        98: "#de3a3a",
        99: "#de3a3a",
        100: "#de3a3a",
        101: "#de3a3a",
        102: "#ffb6c3",
        103: "#f0f060e6",
        104: "#7c5151",
        105: "#7c5151",
        106: "#7c5151",
        107: "#7c5151",
        108: "#ffb6c3",
        109: "#523352",
        110: "#523352",
        111: "gray",
        112: "gray",
        113: "#ffb6c3",
        114: "#3e3ec0",
        115: "#7c5151",
        116: "#3e3ec0",
        117: "#3e3ec0",
        118: "#de3a3a",
        119: "#de3a3a",
        120: "#7c5151",
        121: "#523352",
        122: "#ffb6c3",
        123: "#4ca04c",
        124: "#de3a3a",
        125: "#f0f060e6",
        126: "#de3a3a",
        127: "#7c5151",
        128: "#7c5151",
        129: "#de3a3a",
        130: "#3e3ec0",
        131: "#3e3ec0",
        132: "#523352",
        133: "#7c5151",
        134: "#3e3ec0",
        135: "#f0f060e6",
        136: "#de3a3a",
        137: "#ffb6c3",
        138: "#3e3ec0",
        139: "#3e3ec0",
        140: "#7c5151",
        141: "#7c5151",
        142: "#523352",
        143: "black",
        144: "#3e3ec0",
        145: "#f0f060e6",
        146: "#f0f060e6",
        147: "#3e3ec0",
        148: "#3e3ec0",
        149: "#7c5151",
        150: "#523352",
        151: "#ffb6c3",
      };

      const dataPokemons = {
        count: 1118,
        next: "https://pokeapi.co/api/v2/pokemon/?offset=20&limit=20",
        previous: null,
        results: [
          {
            name: "bulbasaur",
            url: "https://pokeapi.co/api/v2/pokemon/1/",
          },
          {
            name: "ivysaur",
            url: "https://pokeapi.co/api/v2/pokemon/2/",
          },
          {
            name: "venusaur",
            url: "https://pokeapi.co/api/v2/pokemon/3/",
          },
          {
            name: "charmander",
            url: "https://pokeapi.co/api/v2/pokemon/4/",
          },
          {
            name: "charmeleon",
            url: "https://pokeapi.co/api/v2/pokemon/5/",
          },
          {
            name: "charizard",
            url: "https://pokeapi.co/api/v2/pokemon/6/",
          },
          {
            name: "squirtle",
            url: "https://pokeapi.co/api/v2/pokemon/7/",
          },
          {
            name: "wartortle",
            url: "https://pokeapi.co/api/v2/pokemon/8/",
          },
          {
            name: "blastoise",
            url: "https://pokeapi.co/api/v2/pokemon/9/",
          },
          {
            name: "caterpie",
            url: "https://pokeapi.co/api/v2/pokemon/10/",
          },
          {
            name: "metapod",
            url: "https://pokeapi.co/api/v2/pokemon/11/",
          },
          {
            name: "butterfree",
            url: "https://pokeapi.co/api/v2/pokemon/12/",
          },
          {
            name: "weedle",
            url: "https://pokeapi.co/api/v2/pokemon/13/",
          },
          {
            name: "kakuna",
            url: "https://pokeapi.co/api/v2/pokemon/14/",
          },
          {
            name: "beedrill",
            url: "https://pokeapi.co/api/v2/pokemon/15/",
          },
          {
            name: "pidgey",
            url: "https://pokeapi.co/api/v2/pokemon/16/",
          },
          {
            name: "pidgeotto",
            url: "https://pokeapi.co/api/v2/pokemon/17/",
          },
          {
            name: "pidgeot",
            url: "https://pokeapi.co/api/v2/pokemon/18/",
          },
          {
            name: "rattata",
            url: "https://pokeapi.co/api/v2/pokemon/19/",
          },
          {
            name: "raticate",
            url: "https://pokeapi.co/api/v2/pokemon/20/",
          },
          {
            name: "spearow",
            url: "https://pokeapi.co/api/v2/pokemon/21/",
          },
          {
            name: "fearow",
            url: "https://pokeapi.co/api/v2/pokemon/22/",
          },
          {
            name: "ekans",
            url: "https://pokeapi.co/api/v2/pokemon/23/",
          },
          {
            name: "arbok",
            url: "https://pokeapi.co/api/v2/pokemon/24/",
          },
          {
            name: "pikachu",
            url: "https://pokeapi.co/api/v2/pokemon/25/",
          },
        ],
      };

      function getPokemonImageUri(id) {
        const imageId = ("00" + id).slice(-3); // para 1 => 001
        return `https://assets.pokemon.com/assets/cms2/img/pokedex/detail/${imageId}.png`;
      }
    </script>
  </body>
  <footer></footer>
</html>
